{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useEffect}from'react';import Login from'./login';import Logo from'../img/MEME.gif';function Generator(_ref){var template=_ref.template,userInfo=_ref.userInfo,setCaptions=_ref.setCaptions,captions=_ref.captions,meme=_ref.meme,setMeme=_ref.setMeme,setCurrentPage=_ref.setCurrentPage;var updateCaption=function updateCaption(e,index){var text=e.target.value||'';setCaptions(captions.map(function(c,i){if(index===i){return text;}else{return c;}}));};useEffect(function(){setCaptions(Array(template.box_count).fill(''));},[template]);var generateMeme=function generateMeme(){var formData=new FormData();formData.append('username','rmke223');formData.append('password','marley123');formData.append('template_id',template.id);captions.forEach(function(c,index){return formData.append(\"boxes[\".concat(index,\"][text]\"),c);});fetch('https://api.imgflip.com/caption_image',{method:'Post',body:formData}).then(function(res){res.json().then(function(res){setMeme(function(prevmeme){return prevmeme=res.data.url;});setCurrentPage(function(prevpage){return prevpage='meme';});}).catch(function(err){return console.log('error: ',err);});});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid bg-success\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row bg-primary text-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-3 col-sm-12 text-center\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img py-2 my-2\",src:Logo,alt:\"logo\",style:{height:200,width:200}})}),/*#__PURE__*/_jsx(\"h1\",{className:\"logo py-4 text-center col-lg-9 col-sm-12\",style:{fontSize:\"10vw\"},children:\"MEME\\xB7 oir\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row text-center pb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-12 col-sm-12 bg-success\",children:[/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){return setCurrentPage('profile');},className:\"prof img-fluid my-2\",src:userInfo.profile_img,style:{height:100}}),/*#__PURE__*/_jsx(\"p\",{children:userInfo.name}),/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar bg-success \",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline-primary bg-white mx-auto\",onClick:function onClick(){return setCurrentPage(\"profile\");},type:\"button\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-user-circle text-success\"}),\" Memes\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline-primary bg-white mx-auto\",onClick:function onClick(){return setCurrentPage(\"templates\");},type:\"button\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus text-success\"}),\" Create MEME\"]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-3 col-sm-12\",children:[captions.map(function(c,index){return/*#__PURE__*/_jsx(\"input\",{className:\"col-12 my-4\",type:\"text\",onChange:function onChange(e){return updateCaption(e,index);},placeholder:\"input # \".concat(index+1)},index);}),/*#__PURE__*/_jsxs(\"button\",{className:\"col-12 btn btn-outline-primary bg-white text-primary\",onClick:generateMeme,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-camera-retro text-info\"}),\" Generate Meme!\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-9 col-sm-12\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img-fluid py-4\",src:template.url,alt:\"template\"})})]})})]})});}export default Generator;","map":{"version":3,"sources":["/Users/ryankelly/Sites/aotc_project/aotc_react/src/components/Generator.js"],"names":["React","useEffect","Login","Logo","Generator","template","userInfo","setCaptions","captions","meme","setMeme","setCurrentPage","updateCaption","e","index","text","target","value","map","c","i","Array","box_count","fill","generateMeme","formData","FormData","append","id","forEach","fetch","method","body","then","res","json","prevmeme","data","url","prevpage","catch","err","console","log","height","width","fontSize","profile_img","name"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport Login from './login';\nimport Logo from '../img/MEME.gif'\n\nfunction Generator({ template, userInfo, setCaptions, captions, meme, setMeme, setCurrentPage }) {\n    const updateCaption = (e, index) => {\n        const text = e.target.value || '';\n        setCaptions(\n            captions.map((c, i) => {\n                if (index === i) {\n                    return text;\n                } else {\n                    return c;\n                }\n            })\n        )\n    }\n    useEffect(() => {\n        setCaptions(Array(template.box_count).fill(''));\n    }, [template])\n\n    const generateMeme = () => {\n        const formData = new FormData();\n        formData.append('username', 'rmke223');\n        formData.append('password', 'marley123');\n        formData.append('template_id', template.id);\n        captions.forEach((c, index) => formData.append(`boxes[${index}][text]`, c));\n\n        fetch('https://api.imgflip.com/caption_image', {\n            method: 'Post',\n            body: formData\n        })\n        .then(res => {\n            res.json().then(res => {\n                setMeme(prevmeme => prevmeme = res.data.url)\n                setCurrentPage(prevpage => prevpage = 'meme')\n            })\n            .catch(err => console.log('error: ', err))\n        });\n    }\n\n    return (\n        <div>\n            <div className=\"container-fluid bg-success\">\n                <div className=\"row bg-primary text-white\">\n                    <div className=\"col-lg-3 col-sm-12 text-center\">\n                        <img className=\"img py-2 my-2\" src={Logo} alt=\"logo\" style={{ height: 200, width: 200 }} />\n                    </div>\n                    <h1 className=\"logo py-4 text-center col-lg-9 col-sm-12\" style={{ fontSize:\"10vw\"}}>MEMEÂ· oir</h1>\n                </div>\n                <div className=\"row text-center pb-4\">\n                    <div className=\"col-lg-12 col-sm-12 bg-success\">\n                        <img onClick={() => setCurrentPage('profile')} className=\"prof img-fluid my-2\" src={userInfo.profile_img} style={{ height: 100 }} />\n                        <p>{userInfo.name}</p>\n                        <nav className=\"navbar bg-success \">\n                        <button className=\"btn btn-outline-primary bg-white mx-auto\" onClick={() => setCurrentPage(\"profile\")} type=\"button\"><i class=\"fas fa-user-circle text-success\"></i> Memes</button>\n                        <button className=\"btn btn-outline-primary bg-white mx-auto\" onClick={() => setCurrentPage(\"templates\")} type=\"button\"><i className=\"fas fa-plus text-success\"></i> Create MEME</button>\n                        </nav>\n                    </div>\n                </div>\n                <div className=\"container-fluid\">\n                    <div className=\"row\">\n                        <div className=\"col-lg-3 col-sm-12\">\n                            {\n                                captions.map((c, index) => (\n                                    <input\n                                        className=\"col-12 my-4\"\n                                        key={index}\n                                        type=\"text\"\n                                        onChange={e => updateCaption(e, index)}\n                                        placeholder={`input # ${index + 1}`}\n                                    />\n                                ))\n                            }\n                            <button className=\"col-12 btn btn-outline-primary bg-white text-primary\" onClick={generateMeme}><i className=\"fas fa-camera-retro text-info\"></i> Generate Meme!</button>\n                        </div>\n                        <div className=\"col-lg-9 col-sm-12\">\n                            <img className=\"img-fluid py-4\" src={template.url} alt=\"template\" />\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Generator\n"]},"metadata":{},"sourceType":"module"}